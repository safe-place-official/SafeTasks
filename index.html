<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SafeTasks</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <header class="app__header">
      <div>
        <h1>SafeTasks</h1>
        <p class="tagline">Анти‑прокрастинация в киберпанк‑режиме</p>
      </div>
      <nav class="tabs">
        <button class="tab-button is-active" data-screen="daily">Дневные</button>
        <button class="tab-button" data-screen="weekly">Недельные</button>
        <button class="tab-button" data-screen="monthly">Месячные</button>
        <button class="tab-button" data-screen="yearly">Годовые</button>
        <button class="tab-button" data-screen="pomodoro" data-module="pomodoro" id="tab-pomodoro">Помодоро</button>
        <button class="tab-button" data-screen="schedule">Расписание</button>
        <button class="tab-button" data-screen="stats" id="tab-stats" data-module="stats">Статистика</button>
        <button class="tab-button" data-screen="xp" id="tab-xp" data-module="xp">XP и уровни</button>
        <button class="tab-button" data-screen="heatmap" id="tab-heatmap" data-module="heatmap">Тепловая карта</button>
        <button class="tab-button" data-screen="achievements" id="tab-achievements" data-module="achievements">Достижения</button>
        <button class="tab-button" data-screen="modules">Модули</button>
      </nav>
    </header>

    <main>
      <section class="screen is-active" id="screen-daily">
        <div class="task-layout">
          <div class="column">
            <section class="card">
              <h2>Новая дневная задача</h2>
              <form class="task-form" data-task-type="daily">
                <input type="text" class="task-title-input" placeholder="Что сделать сегодня?" required />
                <button type="submit" class="btn">Добавить</button>
              </form>
              <div class="summary">
                <div>
                  <span class="label">Выполнено</span>
                  <span class="value" data-count="completed" data-type="daily">0</span>
                </div>
                <div>
                  <span class="label">В процессе</span>
                  <span class="value" data-count="pending" data-type="daily">0</span>
                </div>
              </div>
            </section>

          </div>

          <div class="column">
            <section class="card">
              <div class="card__header">
                <h2>Дневные задачи</h2>
                <span class="hint">План на сегодня</span>
              </div>
              <ul id="daily-task-list" class="task-list"></ul>
            </section>
          </div>

          <div class="column">
            <section class="card">
              <div class="card__header">
                <h2>Выполнено</h2>
                <span class="hint">Удаление недоступно</span>
              </div>
              <ul id="daily-completed-list" class="task-list task-list--completed"></ul>
            </section>
          </div>
        </div>
      </section>

      <section class="screen" id="screen-pomodoro" data-module="pomodoro">
        <div class="grid">
          <section class="card pomodoro pomodoro--red">
            <div class="card__header">
              <h2>Pomodoro 25/5</h2>
              <span id="pomodoro-state" class="hint">Фокус</span>
            </div>
            <div class="pomodoro__time" id="pomodoro-time">25:00</div>
            <div class="pomodoro__controls">
              <button id="pomodoro-start" class="btn btn--red">Старт</button>
              <button id="pomodoro-pause" class="btn ghost">Пауза</button>
              <button id="pomodoro-reset" class="btn ghost">Сброс</button>
            </div>
            <div class="progress progress--red">
              <div id="pomodoro-progress" class="progress__bar"></div>
            </div>
          </section>

          <section class="card focus-ritual">
            <div class="card__header">
              <h2>Ритуал фокуса</h2>
              <span class="hint">Запусти сессию правильно</span>
            </div>
            <ul class="checklist">
              <li><label><input type="checkbox" /> Убери уведомления на 25 минут</label></li>
              <li><label><input type="checkbox" /> Подготовь воду и таймер</label></li>
              <li><label><input type="checkbox" /> Запиши одну ключевую задачу</label></li>
              <li><label><input type="checkbox" /> Включи фоновый шум</label></li>
            </ul>
          </section>

          <section class="card focus-note">
            <div class="card__header">
              <h2>Фокус-заметка</h2>
              <span class="hint">Коротко: что важно сейчас</span>
            </div>
            <textarea rows="6" placeholder="Например: закрыть задачу по лендингу за 2 помодоро."></textarea>
            <p class="hint">Не хранится в браузере — используй как быстрый черновик.</p>
          </section>
        </div>
      </section>

      <section class="screen" id="screen-weekly">
        <div class="task-layout">
          <div class="column">
            <section class="card">
              <h2>Новая недельная задача</h2>
              <form class="task-form" data-task-type="weekly">
                <input type="text" class="task-title-input" placeholder="Что важно на этой неделе?" required />
                <button type="submit" class="btn">Добавить</button>
              </form>
              <div class="summary">
                <div>
                  <span class="label">Выполнено</span>
                  <span class="value" data-count="completed" data-type="weekly">0</span>
                </div>
                <div>
                  <span class="label">В процессе</span>
                  <span class="value" data-count="pending" data-type="weekly">0</span>
                </div>
              </div>
            </section>
          </div>

          <div class="column">
            <section class="card">
              <div class="card__header">
                <h2>Недельные задачи</h2>
                <span class="hint">Фокус недели</span>
              </div>
              <ul id="weekly-task-list" class="task-list"></ul>
            </section>
          </div>

          <div class="column">
            <section class="card">
              <div class="card__header">
                <h2>Выполнено</h2>
                <span class="hint">Удаление недоступно</span>
              </div>
              <ul id="weekly-completed-list" class="task-list task-list--completed"></ul>
            </section>
          </div>
        </div>
      </section>

      <section class="screen" id="screen-monthly">
        <div class="task-layout">
          <div class="column">
            <section class="card">
              <h2>Новая месячная задача</h2>
              <form class="task-form" data-task-type="monthly">
                <input type="text" class="task-title-input" placeholder="План на месяц" required />
                <button type="submit" class="btn">Добавить</button>
              </form>
              <div class="summary">
                <div>
                  <span class="label">Выполнено</span>
                  <span class="value" data-count="completed" data-type="monthly">0</span>
                </div>
                <div>
                  <span class="label">В процессе</span>
                  <span class="value" data-count="pending" data-type="monthly">0</span>
                </div>
              </div>
            </section>
          </div>

          <div class="column">
            <section class="card">
              <div class="card__header">
                <h2>Месячные задачи</h2>
                <span class="hint">Стратегия месяца</span>
              </div>
              <ul id="monthly-task-list" class="task-list"></ul>
            </section>
          </div>

          <div class="column">
            <section class="card">
              <div class="card__header">
                <h2>Выполнено</h2>
                <span class="hint">Удаление недоступно</span>
              </div>
              <ul id="monthly-completed-list" class="task-list task-list--completed"></ul>
            </section>
          </div>
        </div>
      </section>

      <section class="screen" id="screen-yearly">
        <div class="task-layout">
          <div class="column">
            <section class="card">
              <h2>Новая годовая задача</h2>
              <form class="task-form" data-task-type="yearly">
                <input type="text" class="task-title-input" placeholder="К чему идти весь год?" required />
                <button type="submit" class="btn">Добавить</button>
              </form>
              <div class="summary">
                <div>
                  <span class="label">Выполнено</span>
                  <span class="value" data-count="completed" data-type="yearly">0</span>
                </div>
                <div>
                  <span class="label">В процессе</span>
                  <span class="value" data-count="pending" data-type="yearly">0</span>
                </div>
              </div>
            </section>
          </div>

          <div class="column">
            <section class="card">
              <div class="card__header">
                <h2>Годовые задачи</h2>
                <span class="hint">Большие цели</span>
              </div>
              <ul id="yearly-task-list" class="task-list"></ul>
            </section>
          </div>

          <div class="column">
            <section class="card">
              <div class="card__header">
                <h2>Выполнено</h2>
                <span class="hint">Удаление недоступно</span>
              </div>
              <ul id="yearly-completed-list" class="task-list task-list--completed"></ul>
            </section>
          </div>
        </div>
      </section>

      <section class="screen" id="screen-schedule">
        <div class="grid">
          <section class="card">
            <h2>Свое расписание на неделю</h2>
            <form id="schedule-form" class="schedule-form">
              <label>
                <span class="label">День недели</span>
                <select id="schedule-day" required>
                  <option value="Понедельник">Понедельник</option>
                  <option value="Вторник">Вторник</option>
                  <option value="Среда">Среда</option>
                  <option value="Четверг">Четверг</option>
                  <option value="Пятница">Пятница</option>
                  <option value="Суббота">Суббота</option>
                  <option value="Воскресенье">Воскресенье</option>
                </select>
              </label>
              <label>
                <span class="label">Время</span>
                <input type="time" id="schedule-time" required />
              </label>
              <label>
                <span class="label">Место</span>
                <input type="text" id="schedule-place" placeholder="Где это будет?" required />
              </label>
              <label>
                <span class="label">Задача</span>
                <input type="text" id="schedule-task" placeholder="Что запланировано?" required />
              </label>
              <button type="submit" class="btn">Добавить</button>
            </form>
          </section>

          <section class="card">
            <div class="card__header">
              <h2>План недели</h2>
              <span class="hint">Персональные блоки времени</span>
            </div>
            <ul id="schedule-list" class="schedule-list"></ul>
          </section>
        </div>
      </section>

      <section class="screen" id="screen-stats" data-module="stats">
        <div class="grid">
          <section class="card">
            <h2>Статистика</h2>
            <div class="stats-row">
              <div>
                <span class="label">Streak (дни)</span>
                <span id="streak-count" class="value">0</span>
              </div>
              <div>
                <span class="label">Процент выполнения</span>
                <span id="completion-rate" class="value">0%</span>
              </div>
              <div>
                <label class="label" for="period-select">Период</label>
                <select id="period-select">
                  <option value="7">7 дней</option>
                  <option value="30" selected>30 дней</option>
                  <option value="90">90 дней</option>
                </select>
              </div>
            </div>
            <div class="chart">
              <h3>Выполненные задачи по дням</h3>
              <canvas id="daily-chart" width="600" height="220"></canvas>
            </div>
            <div class="chart">
              <h3>Продуктивность по неделям</h3>
              <canvas id="weekly-chart" width="600" height="220"></canvas>
            </div>
          </section>
        </div>
      </section>

      <section class="screen" id="screen-xp" data-module="xp">
        <div class="grid">
          <section class="card">
            <div class="card__header">
              <h2>XP и уровни</h2>
              <span class="hint">Только мотивация, без преимуществ</span>
            </div>
            <div class="xp-grid">
              <div>
                <span class="label">Текущий уровень</span>
                <span id="xp-level" class="value">0</span>
              </div>
              <div>
                <span class="label">Текущий XP</span>
                <span id="xp-total" class="value">0</span>
              </div>
              <div>
                <span class="label">До следующего уровня</span>
                <span id="xp-next" class="value">500 XP</span>
              </div>
            </div>
            <div class="progress xp-progress">
              <div id="xp-progress-bar" class="progress__bar"></div>
            </div>
            <p class="hint">XP начисляется за закрытые задачи: дневные +10, недельные +30, месячные +100.</p>
          </section>
        </div>
      </section>

      <section class="screen" id="screen-heatmap" data-module="heatmap">
        <div class="grid">
          <section class="card">
            <div class="card__header">
              <h2>Тепловая карта продуктивности</h2>
              <span class="hint">История закрытых задач по дням</span>
            </div>
            <div id="heatmap-grid" class="heatmap"></div>
            <div class="heatmap-legend">
              <span class="hint">0</span>
              <span class="heatmap-cell level-0"></span>
              <span class="heatmap-cell level-1"></span>
              <span class="heatmap-cell level-2"></span>
              <span class="heatmap-cell level-3"></span>
              <span class="hint">6+</span>
            </div>
          </section>
        </div>
      </section>

      <section class="screen" id="screen-achievements" data-module="achievements">
        <div class="grid">
          <section class="card">
            <h2>Достижения</h2>
            <ul id="achievement-list" class="achievement-list"></ul>
          </section>
        </div>
      </section>

      <section class="screen" id="screen-modules">
        <div class="grid">
          <section class="card">
            <div class="card__header">
              <h2>Модули SafeTasks</h2>
              <span class="hint">Включай только нужные блоки</span>
            </div>
            <div class="module-list">
              <label class="module-toggle">
                <input type="checkbox" data-module-toggle="pomodoro" />
                <span>Таймер (Pomodoro)</span>
              </label>
              <label class="module-toggle">
                <input type="checkbox" data-module-toggle="xp" />
                <span>XP и уровни</span>
              </label>
              <label class="module-toggle">
                <input type="checkbox" data-module-toggle="achievements" />
                <span>Достижения</span>
              </label>
              <label class="module-toggle">
                <input type="checkbox" data-module-toggle="stats" />
                <span>Статистика</span>
              </label>
              <label class="module-toggle">
                <input type="checkbox" data-module-toggle="heatmap" />
                <span>Тепловая карта</span>
              </label>
            </div>
            <p class="hint">Отключённые модули полностью скрываются из интерфейса.</p>
          </section>

          <section class="card">
            <div class="card__header">
              <h2>Экспорт / Импорт данных</h2>
              <span class="hint">Все данные остаются в этом браузере</span>
            </div>
            <div class="data-actions">
              <button id="export-data" class="btn">Экспорт JSON</button>
              <label class="btn ghost">
                Импорт JSON
                <input id="import-data" type="file" accept="application/json" hidden />
              </label>
            </div>
            <p class="hint">Перед импортом появится предупреждение о замене текущих данных.</p>
          </section>
        </div>
      </section>
    </main>

    <footer>
      <span>Created by SafePlace</span>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
